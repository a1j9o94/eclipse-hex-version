"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var path_1 = __importDefault(require("path"));
var builtin_modules_1 = __importDefault(require("builtin-modules"));
var resolve_1 = __importDefault(require("resolve"));
var debug_1 = __importDefault(require("debug"));
var debug = debug_1.default("kame/default-resolver");
var allBuiltins = new Set(builtin_modules_1.default);
exports.interfaceVersion = 2;
function resolve(id, fromFilePath, _settings) {
    debug("Resolving '" + id + "' from '" + fromFilePath + "'");
    if (allBuiltins.has(id)) {
        return "external:" + id;
    }
    return resolve_1.default.sync(id, {
        basedir: path_1.default.dirname(fromFilePath),
        preserveSymlinks: false,
        extensions: [".js", ".json", ".mjs", ".jsx", ".ts", ".tsx"],
    });
}
exports.resolve = resolve;
